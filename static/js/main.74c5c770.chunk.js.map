{"version":3,"sources":["../../src/index.js","data.js","App.js","index.js"],"names":["NestedNav","menus","onLinkClick","active","title","id","initialState","previous","previousState","useReducer","state","action","dispatch","Menu","menu","className","style","position","top","left","width","bottom","listStyle","margin","padding","transition","type","animate","m","initial","variants","x","inactive","text","link","subMenu","key","i","onClick","payload","display","height","overflow","MenuShape","PropTypes","string","ItemsShape","func","data","items","App","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.74c5c770.chunk.js","sourcesContent":["import React, { useReducer } from 'react'\nimport PropTypes from 'prop-types'\nimport { motion } from 'framer-motion'\n\nconst NestedNav = ({ menus, onLinkClick }) => {\n  const active = { title: menus.title, id: menus.id }\n  const initialState = {\n    active: active,\n    previous: [],\n    // Need to store previous state to re-establish `initial` value for `motion`\n    // after it re-renders due to prop changes\n    previousState: {\n      active: active,\n      previous: []\n    }\n  }\n  const reducer = (state, action) => {\n    switch (action.type) {\n      case 'forward': {\n        const previous = [...state.previous, state.active]\n        const previousState = { ...state }\n        delete previousState.previousState\n        return {\n          active: action.payload,\n          previous,\n          previousState: previousState\n        }\n      }\n      case 'back': {\n        const active = [...state.previous][state.previous.length - 1]\n        const previous = [...state.previous]\n        previous.pop()\n        const previousState = { ...state }\n        delete previousState.previousState\n        return {\n          active,\n          previous,\n          previousState: previousState\n        }\n      }\n      default:\n        throw new Error()\n    }\n  }\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  const Menu = ({ menu, onLinkClick }) => {\n    // base case\n    if (!menu) {\n      return null\n    }\n\n    return (\n      <React.Fragment>\n        <motion.ul\n          className='menu'\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            bottom: 0,\n            listStyle: 'none',\n            margin: 0,\n            padding: 0\n          }}\n          transition={{ type: 'tween' }}\n          animate={\n            menu.id === state.active.id\n              ? 'active'\n              : state.previous.find((m) => m.id === menu.id)\n              ? 'previous'\n              : 'inactive'\n          }\n          initial={\n            menu.id === state.previousState.active.id\n              ? 'active'\n              : state.previousState.previous.find((m) => m.id === menu.id)\n              ? 'previous'\n              : 'inactive'\n          }\n          variants={{\n            active: { x: 0 },\n            inactive: { x: '100%' },\n            previous: { x: '-100%' }\n          }}\n        >\n          {menu.items.map(({ text, link, menu: subMenu }, i) => (\n            <li className='menu-item' key={i}>\n              {!subMenu ? (\n                <a className='menu-item-link' onClick={() => onLinkClick(link)}>\n                  {text}\n                </a>\n              ) : (\n                <button\n                  className='menu-item-link menu-item-button'\n                  onClick={() =>\n                    dispatch({\n                      type: 'forward',\n                      payload: { title: subMenu.title, id: subMenu.id }\n                    })\n                  }\n                >\n                  {text}\n                </button>\n              )}\n            </li>\n          ))}\n        </motion.ul>\n        <React.Fragment>\n          {menu.items.map(({ menu }, i) => (\n            <Menu key={i} menu={menu} onLinkClick={onLinkClick} />\n          ))}\n        </React.Fragment>\n      </React.Fragment>\n    )\n  }\n\n  return (\n    <div>\n      {/* <div>active: {JSON.stringify(state.active, null, 2)}</div>\n      <div>prev: {JSON.stringify(state.previous, null, 2)}</div> */}\n      <div className='menu-header' style={{ display: 'flex' }}>\n        {state.previous.length > 0 && (\n          <button className='back' onClick={() => dispatch({ type: 'back' })}>\n            Back\n          </button>\n        )}\n        <div className='menu-title'>{state.active.title}</div>\n      </div>\n      <div\n        className='menu-container'\n        style={{ position: 'relative', height: 600, overflow: 'hidden' }}\n      >\n        <Menu menu={menus} onLinkClick={onLinkClick} />\n      </div>\n    </div>\n  )\n}\n\nconst MenuShape = {\n  title: PropTypes.string,\n  id: PropTypes.string\n}\n\nconst ItemsShape = {\n  text: PropTypes.string.isRequired,\n  link: PropTypes.string\n}\n\nItemsShape.menu = PropTypes.shape(MenuShape)\nMenuShape.items = PropTypes.arrayOf(PropTypes.shape(ItemsShape))\n\nNestedNav.propTypes = {\n  menus: PropTypes.shape(MenuShape),\n  onLinkClick: PropTypes.func\n}\n\nexport { NestedNav }\n","export const data = {\n  title: 'Menu',\n  id: 'home',\n  items: [\n    {\n      text: 'Menu 1',\n      menu: {\n        title: 'Menu 1',\n        id: 'menu-1',\n        items: [\n          {\n            text: 'Menu 1 - Child 1',\n            menu: {\n              title: 'Menu 1 - Child 1',\n              id: 'menu-1-1',\n              items: [\n                {\n                  text: 'Menu 1 - Child 1 - Child 1',\n                  link: 'https://google.com'\n                },\n                {\n                  text: 'Menu 1 - Child 1 - Child 2',\n                  link: 'https://google.com'\n                },\n                {\n                  text: 'Menu 1 - Child 1 - Child 3',\n                  menu: {\n                    title: 'Menu 1 - Child 1 - Child 3',\n                    id: 'menu-1-1-3',\n                    items: [\n                      {\n                        text: 'Menu 1 - Child 1 - Child 3 - Child 1',\n                        link: 'https://google.com'\n                      },\n                      {\n                        text: 'Menu 1 - Child 1 - Child 3 - Child 2',\n                        link: 'https://google.com'\n                      }\n                    ]\n                  }\n                }\n              ]\n            }\n          }\n        ]\n      }\n    },\n    {\n      text: 'Menu 2',\n      menu: {\n        title: 'Menu 2',\n        id: 'menu-2',\n        items: [\n          {\n            text: 'Menu 2 - Child 1',\n            link: 'https://google.com'\n          },\n          {\n            text: 'Menu 2 - Child 2',\n            link: 'https://google.com'\n          }\n        ]\n      }\n    },\n    {\n      text: 'Menu 3',\n      menu: {\n        title: 'Menu 3',\n        id: 'menu-3',\n        items: [\n          {\n            text: 'Menu 3 - Child 1',\n            link: 'https://google.com'\n          },\n          {\n            text: 'Menu 3 - Child 2',\n            link: 'https://google.com'\n          },\n          {\n            text: 'Menu 3 - Child 3',\n            menu: {\n              title: 'Menu 3 - Child 3',\n              id: 'menu-3-3',\n              items: [\n                {\n                  text: 'Menu 3 - Child 3 - Child 1',\n                  link: 'https://google.com'\n                },\n                {\n                  text: 'Menu 3 - Child 3 - Child 2',\n                  link: 'https://google.com'\n                }\n              ]\n            }\n          }\n        ]\n      }\n    }\n  ]\n}\n","import React from 'react'\n\nimport { NestedNav } from 'react-nested-nav'\nimport { data } from './data' // see data formatting\nimport 'react-nested-nav/dist/index.css' // custom css\n\nconst App = () => {\n  return (\n    <NestedNav\n      menus={data}\n      onLinkClick={(link) => {\n        console.log(link)\n      }}\n    />\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}